Dicer - OBO ID range library
============================

Dicer is a Java library and a command-line tool to facilitate the
manipulation of OBO Foundry-style _ID policies_, the likes of which are
generated by the [Ontology Development
Kit](https://github.com/INCATools/ontology-development-kit) and used by
the [Protégé ontology editor](https://github.com/protegeproject/protege).

The name of this project comes from _Dicer-1_ (_Dcr-1_), a _Drosophila
melanogaster_ gene coding for an enzyme involved in the short
interfering RNA gene silencing pathway.


Command-line usage
------------------
The command-line tool currently allows performing the following tasks.

### Validating a policy file
Simply call the tool with the name of the policy file to validate:

```sh
$ dicer-cli myont-idranges.owl
```

The command will exit with a return code of zero if the file contains a
valid policy; otherwise, an error message will be printed and the
command will exit with a non-zero value.

### Re-serialising a policy file
Add the `--save` option to force the tool to write the policy back to
the original input file:

```sh
$ dicer-cli myont-idranges.owl --save
```

To write the re-serialised policy into a different file, use the
`--output` option instead:

```sh
$ dicer-cli myont-idranges.owl --output reserialised-idranges.owl
```

### Listing ranges in the policy
Use the `--list` option to print the ranges defined in the policy,
sorted by their bounds (lower ranges first):

```sh
$ dicer-cli myont-idranges --list
Alice: [0..10000)
Bob: [50000..60000)
```

### Allocate a new range
To automatically allocate a new range of 20,000 IDs to the user
_Charlie_:

```sh
$ dicer-cli myont-idranges.owl --add-range Charlie --size 20000
dicer-cli: Allocated range [10000..30000) for user "Charlie"
```

Allocating a new range automatically implies the `--save` option, so
that the modified policy with its new range is automatically saved to
its original file. To save it to a different file, use the `--output`
option.


Building
--------
Build by running `mvn clean package`. This will produce two distinct Jar
files:

* `dicer-lib-x.y.z.jar` (in `lib/target`): the Dicer library proper, for
  use in Java programs;
* `dicer-cli-z.y.z.jar` (in `cli/target`): the `dicer-cli` command-line
  tool, as a self-sufficient executable Jar archive.


Homepage and repository
-----------------------
At some point the project will be located at
<https://incenp.org/dvlpt/dicer/>, where the documentation (when it will
exist!) will be located. The source code is available in a Git
repository at <https://github.com/gouttegd/dicer>.


Copying
-------
Dicer is distributed under the terms of the GNU General Public License,
version 3 or higher. The full license is included in the [COPYING
file](COPYING) of the source distribution.
